generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model Server {
  guildId    String @unique
  ratSpawned Boolean @default(false)
  timeSinceLastSpawn String @default("0")
}

/// TODO: Merge server and ratmessage. Only one rat can spawn in a guild at a time and if ratSpawned is set to true in a server then the bot can attempt delete the rat message on startup

model RatMessage {
  guildId String
  channelId String
  messageId String @unique
}

model RatCount {
  guildId String
  userId String
  ratType String
  count Int

  @@unique([guildId, userId, ratType])
}